{
	instances = {
		credentials = CredentialsStore(
			credset = "wiki", host = "localhost", 
			db = "wiki", user = "wiki", pass = "wiki", 
			pool = true
		);

		view = Module(f"view.conf@begin", remap = { url = "branchname" });
		control = Module(f"control.conf@byurl");

		begin = Module(f"login/auth.conf@enticate") {
			authenticated_branch = SiteSubsection() {
				default_branch = instances.view;
				admin_branch = Templates(f"templates/loginwrapper.html") {
					content_branch = instances.control;
				};
				logout_branch = Module(f"login/auth.conf@end");
			};
			unauthenticated_branch = SiteSubsection() {
				default_branch = instances.view;
				admin_branch = Template(f"templates/loginplease.html");
				login_branch = Module(f"login/auth.conf@enticate");
			};
		};

		standalone = Template(f"templates/skelet.html") {
			content_branch = instances.begin;
		};
	};
}